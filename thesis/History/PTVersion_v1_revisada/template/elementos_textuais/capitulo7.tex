\chapter{Resultados}\label{capitulo7}

% \section{Introdução}

% Este capítulo apresenta os resultados obtidos com a execução do modelo de Programa{\c c}{\~a}o Linear Inteira (PLI) e da implementação computacional descrita no Capítulo~5. Os experimentos foram realizados para diferentes horizontes temporais (7, 15 e 30 dias), utilizando-se demanda variável e ativação integral das restrições impostas pelo Regulamento (CE) n.{\textordmasculine}~561/2006. 

% Os resultados demonstram que o modelo é capaz de gerar escalas legalmente válidas, eficientes e compatíveis com operações reais de transporte rodoviário, apresentando excelentes tempos de execução e alta estabilidade temporal.

\section{Introdução}

Este capítulo apresenta os resultados computacionais obtidos a partir da execução do modelo de Programação Linear Inteira (PLI) e da implementação computacional descrita nos Capítulos~5 e~6. Os experimentos foram conduzidos utilizando dados reais de demanda operacional, com granularidade temporal de 15 minutos, respeitando integralmente as restrições impostas pelo Regulamento (CE) n.º~561/2006.

O objetivo principal desta etapa é avaliar a viabilidade prática, a qualidade das soluções e o desempenho computacional do modelo proposto, considerando diferentes estratégias de resolução implementadas no simulador. Em particular, são analisados três modos de resolução: (i) solução exata via CP-SAT, (ii) heurística construtiva gulosa e (iii) abordagem matheurística baseada em Large Neighborhood Search (LNS).

Este capítulo inicia-se com a análise detalhada dos resultados obtidos pelo método exato, que serve como referência normativa e de qualidade para a comparação posterior com os métodos heurísticos e metaheurísticos.


% \section{Roteiro Experimental}

% Os resultados apresentados neste capítulo seguem um roteiro experimental estruturado, concebido para avaliar de forma progressiva o comportamento do simulador sob diferentes estratégias de resolução e níveis de complexidade. Esse roteiro foi organizado em fases, permitindo analisar separadamente a viabilidade do modelo matemático, o desempenho computacional, a qualidade das soluções e o impacto de estratégias heurísticas, matheurísticas e orientadas por aprendizado de máquina.

% As fases experimentais contemplam: (i) otimização exata via Programação Linear Inteira, (ii) geração de soluções iniciais por heurística gulosa, (iii) refinamento das soluções por Large Neighborhood Search (LNS), (iv) integração de modelos de aprendizado de máquina supervisionado e (v) avaliação comparativa entre os diferentes modos de resolução. Essa abordagem sistemática garante rastreabilidade, reprodutibilidade e rigor científico na análise dos resultados.

\section{Roteiro Experimental}

Os resultados apresentados neste capítulo seguem um roteiro experimental estruturado, concebido para avaliar de forma progressiva o comportamento do simulador sob diferentes estratégias de resolução e níveis de complexidade.

O roteiro foi organizado nas seguintes etapas:
\begin{itemize}
    \item validação do modelo matemático por meio da solução exata;
    \item avaliação do desempenho computacional do solver CP-SAT;
    \item análise da qualidade das soluções em termos de cobertura, estabilidade e eficiência;
    \item comparação entre métodos exato, heurístico e LNS;
    \item discussão dos compromissos entre qualidade da solução e esforço computacional.
\end{itemize}

Essa abordagem sistemática garante rastreabilidade, reprodutibilidade e rigor científico, permitindo que cada estratégia seja analisada sob condições controladas e comparáveis.


% \section{Configuração Geral dos Cenários}

% Os cen{\'a}rios foram configurados conforme os seguintes parâmetros principais:

% \begin{itemize}
%     \item solver: CP-SAT (OR-Tools);
%     \item granularidade: 15 minutos por período;
%     \item horizontes avaliados: 7, 15 e 30 dias;
%     \item variável principal: \(x_{d,t}\) (binária);
%     \item ativa{\c c}{\~a}o completa das restrições legais;
%     \item demanda variável por período (não uniforme).
% \end{itemize}

\section{Configuração Geral dos Cenários}

Os cenários experimentais foram configurados com base nos seguintes parâmetros principais:

\begin{itemize}
    \item solver: CP-SAT (OR-Tools);
    \item granularidade temporal: 15 minutos por período;
    \item horizonte de referência apresentado neste capítulo: 24 horas (96 períodos);
    \item variável principal: \(x_{d,t}\) (binária);
    \item ativação integral das restrições legais;
    \item demanda real, variável e não uniforme por período.
\end{itemize}

Embora o simulador suporte horizontes de 7, 15 e 30 dias, optou-se por apresentar neste capítulo os resultados detalhados do cenário diário de 24 horas, por se tratar do menor horizonte completo capaz de capturar todas as restrições diárias, pausas obrigatórias e padrões de variabilidade da demanda. Os resultados em horizontes estendidos apresentaram comportamento qualitativamente semelhante, conforme verificado nos experimentos complementares.

Essas configurações permitem avaliar não apenas a viabilidade legal das escalas, mas também a estabilidade, robustez e eficiência computacional do modelo.

\begin{table}[H]
\centering
\caption{Parâmetros gerais utilizados nos experimentos}
\label{tab:parametros-experimentos}
\begin{tabular}{ll}
\hline
\textbf{Parâmetro} & \textbf{Valor} \\
\hline
Solver & CP-SAT (OR-Tools) \\
Granularidade temporal & 15 minutos \\
Horizontes avaliados & 7, 15 e 30 dias \\
Tipo de variável & Binária ($x_{d,t}$) \\
Restrições legais & Regulamento (CE) n.º 561/2006 (todas ativas) \\
Demanda & Variável por período \\
Semente aleatória & Fixa para reprodutibilidade \\
\hline
\end{tabular}
\end{table}

% \section{Execução do Solver}

% A Figura~\ref{fig:solver-otimo} apresenta um exemplo de execução completa do solver CP-SAT.

% \begin{figure}[H]
%     \centering
%     \includegraphics[width=0.92\textwidth]{template/figuras/T11.png}
%     \caption{Execução do solver CP-SAT (solução ótima).}
%     \label{fig:solver-otimo}
% \end{figure}

% O solver apresenta:

% \begin{itemize}
%     \item solução ótima;
%     \item tempo computacional médio inferior a 1,5 segundos;
%     \item cerca de 9.600 variáveis;
%     \item cerca de 7.597 restrições;
%     \item estabilidade mesmo em cenários maiores.
% \end{itemize}

% Esse desempenho confirma que a formulação PLI, associada ao CP-SAT, é adequada para aplicação prática no setor, permitindo replanejamento rápido e análises exploratórias.

\section{Execução do Solver}

A Figura~\ref{fig:solver-otimo} apresenta um exemplo de execução completa do solver CP-SAT para o cenário de 24 horas, com todas as restrições legais ativas.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{template/figuras/input-restriction.png}
    \caption{Execução do solver CP-SAT no modo exato.}
    \label{fig:solver-otimo}
\end{figure}

Observa-se que o solver retorna soluções ótimas de forma consistente, com tempos computacionais médios inferiores a dois segundos, mesmo em instâncias com milhares de variáveis e restrições. Em média, os modelos resolvidos apresentaram cerca de 9.600 variáveis e aproximadamente 7.600 restrições lineares.

% Esse desempenho confirma a adequação da formulação proposta e do uso do CP-SAT para aplicações operacionais, permitindo replanejamentos frequentes e análises exploratórias em tempo quase real.

Esse desempenho confirma que a formulação PLI, associada ao CP-SAT, é adequada para aplicação prática no setor, permitindo replanejamento rápido e análises exploratórias sob condições operacionais realistas.



% \section{Comportamento da Demanda}

% A demanda utilizada nos experimentos apresenta elevada variabilidade, característica comum em opera{\c c}{\~o}es com turnos contínuos e atividades multicentrais.

% A Figura~\ref{fig:demanda-experimentos} ilustra a demanda utilizada.

% \begin{figure}[H]
%     \centering
%     \includegraphics[width=0.92\textwidth]{template/figuras/T12.png}
%     \caption{Curva de demanda operacional por período.}
%     \label{fig:demanda-experimentos}
% \end{figure}

% Observa-se:

% \begin{itemize}
%     \item períodos com demanda superior a 100 motoristas;
%     \item períodos de baixa flutuação;
%     \item alternância entre picos e vales;
%     \item irregularidade — essencial para testar robustez do modelo.
% \end{itemize}

% Cabe destacar que a demanda utilizada não foi previamente suavizada ou filtrada.
% A manutenção de picos, vales e irregularidades é intencional, pois permite avaliar
% a robustez do modelo frente a cenários realistas, nos quais variações abruptas de
% demanda são comuns em operações de transporte rodoviário. Dessa forma, o bom
% desempenho observado reforça a aplicabilidade prática do modelo proposto.

\section{Comportamento da Demanda}

A demanda utilizada nos experimentos apresenta elevada variabilidade ao longo do horizonte analisado, característica típica de operações de transporte rodoviário com janelas de atendimento contínuas e múltiplos centros operacionais.

% A Figura~\ref{fig:demanda-experimentos} ilustra a curva de demanda considerada.

% \begin{figure}[H]
%     \centering
%     \includegraphics[width=0.92\textwidth]{template/figuras/T12.png}
%     \caption{Curva de demanda operacional por período.}
%     \label{fig:demanda-experimentos}
% \end{figure}

Observam-se períodos de pico com elevada necessidade de motoristas, intercalados com intervalos de menor demanda. Essa irregularidade não foi suavizada intencionalmente, pois constitui um elemento essencial para testar a robustez do modelo frente a cenários realistas, nos quais variações abruptas são frequentes.

O bom desempenho do modelo mesmo sob essas condições reforça sua aplicabilidade prática.


% \section{Comparação Demanda \textit{versus} Alocação}

% A Figura~\ref{fig:demanda-vs-cobertura-2} apresenta a comparação entre a demanda real e o número de motoristas alocados pelo modelo.

% \begin{figure}[H]
%     \centering
%     \includegraphics[width=0.92\textwidth]{template/figuras/T3.jpg}
%     \caption{Comparação entre demanda e cobertura gerada pelo modelo.}
%     \label{fig:demanda-vs-cobertura-2}
% \end{figure}

% A análise mostra:

% \begin{itemize}
%     \item a cobertura acompanha com precisão a curva de demanda;
%     \item não há sobrealocação significativa (solver evita excesso de motoristas);
%     \item em períodos de baixa demanda, a alocação reduz-se naturalmente;
%     \item o comportamento temporal é suave e sem oscilações abruptas.
% \end{itemize}

% A aderência entre cobertura e demanda indica que o modelo minimiza satisfatoriamente a diferença entre ambas, atendendo não apenas à conformidade legal, mas também à eficiência operacional.

% Esse comportamento confirma que o modelo responde adequadamente
% a ambos os critérios de otimização implementados no simulador.
% No modo de maximização da resposta à demanda, observa-se a priorização
% da cobertura mesmo em cenários críticos, enquanto no modo de minimização
% do número de motoristas, o solver evita sobrealocação desnecessária,
% mantendo aderência estrita à demanda.

\section{Comparação Demanda \textit{versus} Alocação}

A Figura~\ref{fig:demanda-vs-cobertura-2} apresenta a comparação entre a demanda operacional e a alocação de motoristas obtida pelo método exato.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{template/figuras/matriz-restricao.jpg}
    \caption{Comparação entre demanda e cobertura gerada pelo modelo exato.}
    \label{fig:demanda-vs-cobertura-2}
\end{figure}

Observa-se elevada aderência entre a curva de demanda e a alocação resultante, indicando que o modelo atende aos requisitos operacionais sem introduzir sobrealocação significativa. Em períodos de menor demanda, a alocação reduz-se de forma consistente, refletindo o critério de eficiência operacional adotado.

% Esse comportamento confirma que o modelo responde adequadamente às variações temporais da demanda, mantendo equilíbrio entre cobertura e uso racional da força de trabalho.

Esse comportamento confirma que, no modo de minimização do número total de motoristas, o modelo responde adequadamente às variações temporais da demanda, evitando sobrealocação desnecessária e mantendo aderência estrita à necessidade operacional, sem comprometer a conformidade legal.




% \section{Indicadores Operacionais}

% Foram calculados diversos indicadores estatísticos para auxiliar na interpretação dos resultados. Entre eles:

% \begin{itemize}
%     \item \textbf{Cobertura da demanda};
%     \item \textbf{Sobrecarga};
%     \item \textbf{Subutilização};
%     \item \textbf{Desvio padrão da cobertura}.
% \end{itemize}

% A Figura~\ref{fig:indicadores-operacionais} resume esses indicadores.

% \begin{figure}[H]
%     \centering
%     \includegraphics[width=0.92\textwidth]{template/figuras/T2.jpg}
%     \caption{Indicadores de cobertura, sobrecarga e subutilização.}
%     \label{fig:indicadores-operacionais}
% \end{figure}

% Resultados observados:

% \begin{itemize}
%     \item cobertura média superior a 99\%;
%     \item mínima ocorrência de sobrecarga;
%     \item subutilização restrita a períodos de baixa demanda;
%     \item desvio padrão da cobertura \(\approx 0,04\), indicando homogeneidade temporal.
% \end{itemize}

% O baixo desvio padrão da cobertura indica elevada regularidade
% na alocação de motoristas ao longo do tempo, o que é particularmente
% relevante em contextos operacionais, pois reduz oscilações abruptas
% na escala e facilita o planejamento logístico e a gestão de recursos humanos.

\section{Indicadores Operacionais}

Para avaliar a qualidade das soluções obtidas, foram calculados diversos indicadores estatísticos, entre eles:

\begin{itemize}
    \item cobertura da demanda;
    \item sobrecarga;
    \item subutilização;
    \item desvio padrão da cobertura ao longo do tempo.
\end{itemize}

A Figura~\ref{fig:indicadores-operacionais} resume esses indicadores para o cenário analisado.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.92\textwidth]{template/figuras/kpi_exact.png}
    \caption{Indicadores operacionais obtidos pelo método exato.}
    \label{fig:indicadores-operacionais}
\end{figure}

% Os resultados indicam cobertura média superior a 99\%, baixa incidência de sobrecarga e subutilização restrita a períodos de menor demanda. O desvio padrão reduzido da cobertura evidencia elevada regularidade temporal, aspecto fundamental para estabilidade operacional e previsibilidade das escalas.

Os indicadores obtidos evidenciam elevada regularidade temporal da solução no cenário analisado, aspecto particularmente relevante em contextos operacionais, pois reduz oscilações abruptas na escala e facilita o planejamento logístico e a gestão de recursos humanos.

\section{Estrutura da Matriz de Restrições}

A matriz de restrições é construída com base nas regras legais e vínculos temporais, resultando em uma estrutura esparsa e quase diagonal.

As Figuras~\ref{fig:matriz-inicial-2} e \ref{fig:matriz-final-2} apresentam sua versão inicial e final, respectivamente.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.92\textwidth]{template/figuras/constraint-matrix-initial.png}
    \caption{Matriz de restrições (versão inicial).}
    \label{fig:matriz-inicial-2}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.92\textwidth]{template/figuras/constraint-matrix-final.png}
    \caption{Matriz de restrições (versão final).}
    \label{fig:matriz-final-2}
\end{figure}

A estrutura matricial influencia diretamente:

\begin{itemize}
    \item o desempenho do solver;
    \item a propagação de restrições;
    \item a velocidade de convergência.
\end{itemize}

A esparsidade entre 15\% e 35\% favorece significativamente os algoritmos do CP-SAT, conforme discutido em \cite{erdman2022}.

\section{Comparação entre Modos de Resolução}

Além da resolução exata via Programação Linear Inteira, foram avaliados diferentes modos de resolução disponibilizados pelo simulador, com o objetivo de analisar compromissos entre qualidade da solução e esforço computacional. Os modos comparados incluem a heurística gulosa, o método exato, o LNS sem orientação por aprendizado de máquina e o LNS com orientação por modelos supervisionados.

A Tabela~\ref{tab:comparacao-modos} apresenta uma síntese qualitativa dos principais resultados observados.

\begin{table}[H]
\centering
\caption{Comparação entre modos de resolução}
\label{tab:comparacao-modos}
\begin{tabular}{lcccc}
\hline
\textbf{Modo} & \textbf{Cobertura} & \textbf{Eficiência} & \textbf{Estabilidade} & \textbf{Tempo} \\
\hline
Heurístico & Alta & Média & Média & Muito baixo \\
Exato (PLI) & Ótima & Alta & Alta & Médio \\
LNS sem ML & Alta & Alta & Alta & Médio \\
LNS com ML & Alta & Muito alta & Muito alta & Médio \\
\hline
\end{tabular}
\end{table}

% Observa-se que o método exato garante soluções ótimas, porém com maior custo computacional, enquanto o LNS apresenta excelente equilíbrio entre qualidade e tempo de execução. A introdução do aprendizado de máquina melhora a estabilidade e acelera a convergência do LNS, sem comprometer a viabilidade legal das escalas.

Observa-se que o método exato garante soluções ótimas, porém com maior custo computacional relativo quando comparado às heurísticas. O método LNS apresenta um equilíbrio particularmente favorável entre qualidade da solução e tempo de execução, aproximando-se do desempenho do método exato com menor esforço computacional.

A introdução do aprendizado de máquina no LNS contribui para a redução do número de iterações necessárias para estabilização da solução e para o aumento da regularidade temporal observada, sem comprometer a viabilidade legal das escalas geradas.

Ressalta-se que a comparação apresentada na Tabela~\ref{tab:comparacao-modos} possui caráter qualitativo, uma vez que sintetiza tendências observadas ao longo de múltiplos experimentos. As categorias de tempo computacional refletem ordens de grandeza relativas entre os métodos (milissegundos, segundos ou dezenas de segundos), e não valores absolutos fixos, os quais são discutidos de forma detalhada nas análises gráficas e indicadores apresentados nas seções subsequentes.


% A comparação apresentada na Tabela~\ref{tab:comparacao-modos}
% possui caráter qualitativo, pois visa sintetizar tendências observadas
% em múltiplos experimentos, considerando simultaneamente métricas
% quantitativas, estabilidade temporal e esforço computacional.
% Valores numéricos detalhados são apresentados nas análises gráficas
% e indicadores discutidos nas seções subsequentes.

\section{Operações Elementares e Análise Estrutural}

O sistema desenvolvido também permite aplicar opera{\c c}{\~o}es elementares à matriz de restrições, auxiliando em:

\begin{itemize}
    \item fins educacionais;
    \item análise estrutural avançada;
    \item depuração de modelos;
    \item estudo de dependências lineares.
\end{itemize}

A Figura~\ref{fig:operacoes-avancadas} mostra um exemplo.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{template/figuras/matriz-restricao.jpg}
    \caption{Operações elementares aplicadas à matriz.}
    \label{fig:operacoes-avancadas}
\end{figure}

% A análise dessas operações evidencia a consistência estrutural da matriz e confirma a estabilidade do modelo sob transformações.

A análise dessas operações evidencia a consistência estrutural da matriz de restrições e confirma a estabilidade do modelo frente a transformações lineares, reforçando sua robustez do ponto de vista algébrico e computacional.


\section{Cenários de Rápida Convergência}

% Em cenários mais simples, com menor número de períodos e restrições ativadas, verificou-se que o solver encontra soluções ótimas em milissegundos. 

Esse resultado reforça a aplicabilidade da solução em contextos que exigem resposta rápida, como replanejamento dinâmico, simulações exploratórias e sistemas de apoio à decisão operacional, especialmente quando associados a horizontes de planejamento reduzidos.

A Figura~\ref{fig:solver-rapid} ilustra um desses casos.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{template/figuras/convergencia-rapida.png}
    \caption{Exemplo de convergência rápida do solver (18 ms).}
    \label{fig:solver-rapid}
\end{figure}

Esse resultado reforça a aplicabilidade da solução em:

\begin{itemize}
    \item sistemas de resposta rápida;
    \item replanejamento dinâmico;
    \item simulações em larga escala;
    \item ambientes produtivos com grande variação de demanda.
\end{itemize}

\section{Análise Gráfica Avançada}

Os gráficos gerados pelo simulador desempenham papel fundamental na interpretação dos resultados. Além da comparação direta entre demanda e alocação, são apresentados mapas de calor que evidenciam a cobertura por período e a margem de segurança da solução, permitindo identificar padrões de sobrecarga ou subutilização ao longo do horizonte.

No contexto do algoritmo LNS, gráficos adicionais ilustram a evolução do valor da função objetivo ao longo das iterações, bem como os níveis de relaxamento aplicados. Esses gráficos permitem avaliar a convergência do método, identificar regiões de melhoria significativa e comparar o comportamento entre versões com e sem orientação por aprendizado de máquina.

Gráficos do tipo radar são utilizados para sintetizar múltiplos indicadores de desempenho em uma única visualização, facilitando a comparação entre os diferentes modos de resolução. Esses instrumentos visuais reforçam a transparência da análise e ampliam o potencial do simulador como ferramenta experimental e educacional.

\section{Síntese Geral dos Resultados}

Os experimentos realizados demonstram que:

\begin{itemize}
    \item o modelo atende completamente às exigências do Regulamento (CE) n.{\textordmasculine} 561/2006, mantendo conformidade legal em todos os cenários analisados;
    \item o solver produz alocações eficientes e homogêneas;
    \item os indicadores operacionais mostram excelente comportamento temporal;
    \item a estrutura matricial favorece a resolução rápida;
    \item cenários de maior escala são resolvidos com robustez.
\end{itemize}

Portanto, os resultados confirmam a viabilidade teórica e prática da abordagem proposta, fornecendo uma solução sólida para escalonamento de motoristas em contextos reais de transporte rodoviário europeu.

De forma adicional, a integração de estratégias heurísticas, matheurísticas e aprendizado de máquina transforma o simulador em uma plataforma experimental completa, capaz de investigar diferentes paradigmas de otimização sob um mesmo conjunto de restrições legais rigorosas. Essa abordagem integrada amplia significativamente o escopo da pesquisa, permitindo análises comparativas profundas e abrindo caminho para extensões futuras, como modelos estocásticos, dados telemáticos reais e aplicações em larga escala.

% Esses resultados não apenas validam a formulação matemática e a implementação computacional propostas, como também fornecem a base empírica necessária para uma discussão mais aprofundada sobre trade-offs, limitações e implicações práticas do modelo, a ser apresentada no capítulo seguinte.

Esses resultados não apenas validam a formulação matemática e a implementação computacional propostas, como também fornecem a base empírica necessária para uma discussão mais aprofundada sobre compromissos entre qualidade da solução, esforço computacional e aplicabilidade prática, a ser apresentada no capítulo seguinte.

